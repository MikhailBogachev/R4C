# Task 1.
API - ендпонит http://127.0.0.1:8000/add_robot/ принимает POST запрос
с информацией (request body json) о произведенном роботе.
Пример:
{
    "model":"R2", // Название модели робота
    "version":"D2", // Название версии модели робота
    "created":"2023-10-03 23:59:12" // Дата производства робота в формате YYYY-MM-DD hh:mm:ss
}

1) Вью функция robots.views.add_robot производит валидацию полученных данных
в запросе, на соотвествие cруктуры json.
2) Проверяет, что переданные model и version существуют в системе.
Для этого реализованы модели Model и Version в robots.models.  
Добавить модели и версии можно через админ-панель http://127.0.0.1:8000/admin/  
Для доступа в админ понель необходимо создать суперюзера командой python manage.py createsuperuser
3) При успешном добавлении робота возвращается ответ с информацией о добавленном роботе.

# Task 2.
Для получения Excel-файла со сводкой по суммарным показателям производства роботов за последнюю неделю  
необходимо передать GET запрос на http://127.0.0.1:8000/download/

При этом:
1) Запрос обрабатывается вьюхой download_production_list из robots.views.
2) Формируется выборка роботов, произведенных за последние 7 дней.
Дату, начиная с которой заносим робота в список, определяем с помощью функции robots.utils.get_difference_datetime_from_today
3) Полученную выборку передаем на вход функции robots.utils.create_production_list.
В результате создается файл robots_list.xlsx в директории production_list
4) Вьюха возвращает в ответе сформированный файл.

# Task 3.
Создать заказ можно при передаче POST запроса на http://127.0.0.1:8000/create_order/.  
Запрос должен содержать тело form-data с ключами email и robot-serial.
1) Запрос обрабатывается вью функцией create_order из orders.views
2) Производится валидация тела полученного запроса на соотвествие форме OrderForm из orders.forms
3) Создается/берется пользователь с полученным email
4) Создается/обновляется заказ в таблице Order.
В таблице Order хранится информация о заказе (email покупателя, robot-serial робота, флаг is_notified).
Флаг is_notified показывается, было ли выслано покупателю уведомление о наличии робота.  
При получении запроса на данные эндпоинт, флаг is_notified устанавливается в False. Сделано это для возможности  
повторного создания аналогичного заказа.
5) При успешном создании заказа возвращается ответ с информацией о заказе.

При добавлении записи о произведенном роботе в таблицу Robot, производится поиск заказов на соотвествующего робота.  
Если такие заказы есть, то на почту покупателя, оформившего заказ, высылается уведомление о появлении в наличие  
интересовавшего его робота.  
P.s. Для работы рассылки уведомлений нужен .env файл в корне проекта с настройками smtp сервера:
```
HOST_USER=
HOST_PASSWORD=
EMAIL_HOST=
EMAIL_PORT=
```
P.s.2 реализация решения задачи с отправкой уведомления не является оптимальным, т.к. тратится дополнительное время  
на обработку запроса добавления робота. Можно было бы рассмотреть решения на ассинхронном подходе, или реализации  
фоновых задач.
